
generator client {
  provider             = "prisma-client-py"
  interface            = "asyncio"
  recursive_type_depth = 5
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                String @id @default(cuid()) @map("_id")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  email             String @unique
  name              String
  plan              Plan @default(free)
  customerId        String? @unique
  Subscription      Subscription?
}

model Subscription {
  id                String @id @default(cuid()) @map("_id")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  customerId        String @unique
  subscriptionId    String @unique
  userId            String @unique
  plan              Plan
  period            SubscriptionPeriod
  startDate         DateTime @default(now())
  endDate           DateTime
  User              User @relation(fields: [userId], references: [id])

}
  
enum Plan {
  free
  premium
  enterprise
}

enum SubscriptionPeriod {
  monthly
  yearly
}





























